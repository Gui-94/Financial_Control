/* empty css              */(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();const f=document.getElementById("formGasto"),p=document.getElementById("listaGastos"),g=document.getElementById("resumo"),b=document.getElementById("graficoGastos").getContext("2d"),v=document.getElementById("filtroMes"),y=document.getElementById("btnFiltrar");let u;const d={};function h(o){if(d[o])return d[o];const t=Math.floor(Math.random()*200+30),a=Math.floor(Math.random()*200+30),n=Math.floor(Math.random()*200+30);return d[o]=`rgba(${t},${a},${n},0.7)`,d[o]}let i=JSON.parse(localStorage.getItem("gastos"))||[];function m(){localStorage.setItem("gastos",JSON.stringify(i))}function l(o=i){p.innerHTML="",o.forEach(t=>{const a=document.createElement("li");a.innerHTML=`
      💸 <b>${t.descricao}</b> - R$ ${t.valor.toFixed(2)} (${t.categoria||"Sem categoria"}) - <i>${t.data}</i>
      <div class="botoes-gasto">
        <button class="btn-editar">✏️</button>
        <button class="btn-excluir">🗑️</button>
      </div>
    `,a.querySelector(".btn-editar").onclick=()=>{const n=prompt("Nova descrição:",t.descricao),e=parseFloat(prompt("Novo valor:",t.valor)),r=prompt("Nova categoria:",t.categoria);n&&!isNaN(e)&&(t.descricao=n,t.valor=e,t.categoria=r,m(),l())},a.querySelector(".btn-excluir").onclick=()=>{confirm(`Deseja excluir ${t.descricao}?`)&&(i=i.filter(n=>n!==t),m(),l())},p.appendChild(a)}),E(o)}function E(o=i){const t={};o.forEach(s=>{const c=s.categoria||"Sem categoria";t[c]||(t[c]=0),t[c]+=s.valor});const a=o.reduce((s,c)=>s+c.valor,0);g.innerHTML=`
    <p>Total: <b>R$ ${a.toFixed(2)}</b></p>
    ${Object.entries(t).map(([s,c])=>`<p>💡 ${s}: R$ ${c.toFixed(2)}</p>`).join("")}
  `;const n=Object.keys(t),e=Object.values(t),r=n.map(h);u&&u.destroy(),u=new Chart(b,{type:"pie",data:{labels:n,datasets:[{data:e,backgroundColor:r,borderColor:"#fff",borderWidth:2}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},animation:{animateRotate:!0,animateScale:!0}}})}f.addEventListener("submit",o=>{o.preventDefault();const t={descricao:document.getElementById("descricao").value,valor:parseFloat(document.getElementById("valor").value),data:document.getElementById("data").value,categoria:document.getElementById("categoria").value};i.push(t),m(),f.reset(),l()});y.addEventListener("click",()=>{const o=v.value;if(!o){Swal.fire({icon:"info",title:"Selecione um mês!",confirmButtonColor:"#3498db"});return}const t=i.filter(a=>a.data.startsWith(o));if(t.length===0){Swal.fire({icon:"info",title:"Nenhum gasto encontrado nesse mês!",confirmButtonColor:"#2ecc71"});return}l(t)});l();
